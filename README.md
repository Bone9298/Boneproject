# 🤖 FB 現貨出清機器人

Facebook 商品批量留言自動化系統 - 商品管理 + Chrome Extension 自動留言

---

## 📋 目錄

- [功能特色](#功能特色)
- [系統需求](#系統需求)
- [快速開始](#快速開始)
- [使用指南](#使用指南)
- [故障排除](#故障排除)

---

## ✨ 功能特色

### 🏪 商品管理系統
- **商品新增/編輯/刪除**：完整的 CRUD 功能
- **圖片管理**：支援拖放上傳、複製貼上、Base64 儲存
- **分類管理**：常溫/冷凍商品分類
- **搜尋/篩選**：快速查找商品
- **批量選擇**：全選/取消全選功能

### 📦 待處理訂單系統
- **自動移入**：發布到 FB 後自動進入待處理
- **優先發布**：前 5 個優先級商品 + 其他隨機順序
- **預約管理**：標記客戶預約狀態（紅色標籤）
- **批量退回**：一鍵退回多個商品到商品目錄

### 🚀 Chrome Extension 自動留言
- **批量留言**：自動在 Facebook 貼文下批量留言
- **自訂格式**：自動生成商品資訊留言
  ```
  商品名稱：12連動鞋清潔橡皮擦
  規格：1個
  金額：39
  限量：10
  ```
- **智能等待**：每條留言間隔 5 秒，避免 Facebook 偵測
- **停止功能**：可隨時中斷留言過程
- **Modal 智能檢測**：自動在正確的貼文位置留言

---

## 💻 系統需求

- **作業系統**：Windows 10/11
- **瀏覽器**：Google Chrome (版本 88+)
- **Python**：3.7+ (用於啟動本地服務器)
- **網路**：需要連接網路訪問 Facebook

---

## 🚀 快速開始

### 步驟 1：啟動商品管理系統

1. 雙擊執行 `啟動.bat`
2. 或手動執行：
   ```bash
   python 啟動服務器.py
   ```
3. 瀏覽器自動打開 `http://localhost:8000`

### 步驟 2：安裝 Chrome Extension

1. 打開 Chrome 瀏覽器
2. 前往 `chrome://extensions/`
3. 開啟右上角「開發人員模式」
4. 點擊「載入未封裝項目」
5. 選擇 `extension` 資料夾
6. ✅ 擴充功能已安裝

### 步驟 3：開始使用

**商品管理：**
1. 在商品管理頁面新增商品
2. 勾選要發布的商品
3. 點擊「🚀 發布到 FB」
4. 商品移至「⏳ 待處理訂單」

**自動留言：**
1. 打開 Facebook 具體貼文
2. 點擊 Chrome Extension 圖標
3. 點擊「開始留言」
4. 自動批量發布留言

---

## 📖 使用指南

### 商品管理

#### 新增商品
1. 填寫商品資訊：
   - 商品名稱
   - 規格
   - 金額
   - 數量
   - 分類（常溫/冷凍）
2. 上傳圖片（拖放或複製貼上）
3. 點擊「新增商品」

#### 編輯/刪除
- **編輯**：點擊商品卡片上的 ✏️ 圖標
- **刪除**：點擊 🗑️ 圖標

#### 批量操作
- **全選**：點擊「☑️ 全選」勾選所有商品
- **取消全選**：點擊「◻️ 取消全選」
- **發布到 FB**：勾選商品後點擊「🚀 發布到 FB」

### 待處理訂單管理

#### 查看訂單
切換到「⏳ 待處理訂單」標籤查看已發布商品

#### 標記預約
點擊「標記預約」標記客戶已預約商品（顯示紅色標籤）

#### 批量退回
1. 勾選要退回的商品
2. 點擊「↩️ 退回商品目錄」
3. 確認後商品回到商品目錄

### Extension 自動留言

#### 準備工作
1. 確保已發布商品到待處理
2. 在 Facebook 打開要留言的貼文
3. 可以是彈窗模式或直接貼文頁面

#### 開始留言
1. 點擊 Extension 圖標
2. 確認顯示「當前頁面：Facebook 貼文 ✓」
3. 查看要留言的商品列表
4. 點擊「開始留言」

#### 停止留言
- 留言過程中點擊「⏹ 停止留言」可隨時中斷

---

## 🔧 故障排除

### Extension 無法讀取商品

**問題**：Extension 顯示「找不到商品管理頁面」

**解決方案**：
1. 確保商品管理頁面 `http://localhost:8000` 已開啟
2. 重新整理商品管理頁面
3. 重新載入 Extension (`chrome://extensions/` → 點擊 🔄)

### 留言功能無法使用

**問題**：點擊「開始留言」沒反應

**檢查清單**：
- ✅ 是否在 Facebook **貼文頁面**（不是首頁）
- ✅ 是否有商品在「待處理訂單」
- ✅ Extension 是否正確安裝
- ✅ 是否允許 Extension 訪問 Facebook

**解決方法**：
1. 按 F12 打開 Console 查看錯誤訊息
2. 重新整理 Facebook 頁面
3. 重新載入 Extension

### 留言留到錯誤的貼文

**問題**：在彈窗貼文留言但留到背景頁面

**解決方案**：
- 已修復！Extension v1.0.6+ 優先檢測 Modal
- 確保使用最新版本
- 重新載入 Extension

### 服務器無法啟動

**問題**：執行 `啟動.bat` 沒反應

**解決方案**：
1. 確認 Python 已安裝：
   ```bash
   python --version
   ```
2. 手動執行：
   ```bash
   python 啟動服務器.py
   ```
3. 檢查 8000 端口是否被佔用

---

## 📁 專案結構

```
臉書現貨出清機器人/
├── index.html           # 商品管理主頁面
├── app.js              # 商品管理業務邏輯
├── styles.css          # 樣式表
├── 啟動.bat            # Windows 啟動腳本
├── 啟動服務器.py        # HTTP 服務器
└── extension/          # Chrome Extension
    ├── manifest.json   # Extension 配置
    ├── popup.html      # Extension 彈窗界面
    ├── popup.js        # Extension 彈窗邏輯
    ├── content.js      # Facebook 頁面注入腳本
    ├── background.js   # 背景服務
    ├── README.md       # Extension 說明文件
    └── icons/          # Extension 圖標
```

---

## 🎯 按鈕快速參考

### 商品目錄標籤
| 按鈕 | 功能 |
|------|------|
| ☑️ 全選 | 勾選所有商品 |
| ◻️ 取消全選 | 取消所有勾選 |
| 🚀 發布到 FB | 將勾選商品移至待處理訂單 |

### 待處理訂單標籤
| 按鈕 | 功能 |
|------|------|
| ☑️ 全選 | 勾選所有待處理商品 |
| ◻️ 取消全選 | 取消所有勾選 |
| ↩️ 退回商品目錄 | 批量退回勾選商品 |
| 標記預約 | 標記客戶已預約 |
| 返回列表 | 單一商品退回 |
| 刪除 | 刪除商品 |

---

## ⚡ 快捷操作

- **複製貼上圖片**：`Ctrl+V` 直接貼上圖片
- **搜尋商品**：在搜尋框輸入商品名稱
- **篩選分類**：點擊「全部」/「常溫」/「冷凍」
- **快速勾選**：點擊商品卡片上的複選框

---

## 📝 注意事項

1. **留言間隔**：系統自動設定 5 秒間隔，請勿修改以避免被 Facebook 限制
2. **資料備份**：商品資料儲存在 LocalStorage，建議定期備份
3. **Extension 權限**：首次安裝需允許訪問 `facebook.com` 和 `localhost`
4. **瀏覽器要求**：請使用 Google Chrome，其他瀏覽器未測試

---

## 🆘 需要幫助？

如遇到問題：
1. 查看 [故障排除](#故障排除) 章節
2. 檢查 Console 錯誤訊息（按 F12）
3. 確認所有前置條件已滿足
4. 重新啟動服務器和 Extension

---

**版本**：v1.0.6  
**最後更新**：2026-01-27
"# Boneproject" 
"# Boneproject" 
"# Boneproject" 
