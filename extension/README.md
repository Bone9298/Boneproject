# FB 商品批量留言助手 - 安裝說明

## 📦 Extension 文件結構

```
extension/
├── manifest.json       # Extension 配置文件
├── popup.html          # 彈出視窗界面
├── popup.js           # 彈出視窗邏輯
├── content.js         # 注入 FB 頁面的腳本
├── background.js      # 背景服務
└── icons/            # 圖標文件夾
    ├── icon16.png
    ├── icon48.png
    └── icon128.png
```

## 🚀 安裝步驟

### 1. 載入 Extension 到 Chrome

1. 打開 Chrome 瀏覽器
2. 在地址欄輸入：`chrome://extensions/`
3. 開啟右上角「開發人員模式」
4. 點擊「載入未封裝項目」
5. 選擇 `extension` 文件夾
6. Extension 安裝完成！

### 2. 授予權限

首次使用時，Chrome 會要求授予以下權限：
- ✅ 讀取和更改 facebook.com 上的數據
- ✅ 存取當前分頁

這些權限是必需的，請點擊「允許」。

## 📖 使用流程

### 步驟 1：準備商品
1. 打開商品管理網頁 (`index.html`)
2. 新增或編輯商品
3. **勾選要發布的商品**
4. 確認所有商品都有：
   - ✅ 品名
   - ✅ 規格
   - ✅ 價格
   - ✅ 數量
   - ✅ 圖片（可選）

### 步驟 2：發布主貼文
1. 登入 Facebook
2. 到目標社團或粉絲頁
3. **手動發布主貼文**（例如：「【公裕門市】1/27 現貨出清」）
4. **保持在該貼文頁面**

### 步驟 3：啟動批量留言
1. 點擊 Chrome 右上角的 Extension 圖標
2. 彈出視窗會顯示：
   - 已勾選商品數量
   - 當前頁面狀態
3. 確認無誤後，點擊「開始批量留言」

### 步驟 4：自動執行
Extension 會自動：
1. 點擊留言按鈕
2. 上傳商品圖片
3. 填寫商品資訊
4. 發布留言
5. 等待 3-5 秒（避免被 FB 偵測）
6. 重複處理下一個商品

### 步驟 5：完成
- 所有商品留言完成後，Extension 會通知您
- 商品會自動移入商品管理系統的「待處理訂單」

## ⚠️ 注意事項

### Facebook 限制
- ⚠️ **留言頻率**：每則留言間隔 3-5 秒
- ⚠️ **單次數量**：建議一次不超過 20 個商品
- ⚠️ **圖片大小**：每張圖片建議小於 5MB
- ⚠️ **網路穩定**：確保網路連線穩定

### 使用建議
1. **測試先行**：第一次使用時，建議只勾選 1-2 個商品測試
2. **保持畫面**：留言過程中，不要切換分頁或關閉視窗
3. **觀察日誌**：注意 Extension 彈出視窗的日誌訊息
4. **手動檢查**：完成後檢查 FB 貼文，確認所有留言都成功

### 錯誤處理
如果留言失敗：
1. 檢查是否在正確的 FB 貼文頁面
2. 檢查網路連線
3. 重新整理頁面後再試
4. Facebook 可能改版，需要更新 Extension

## 🔧 故障排除

### Extension 無法載入
- 確認 Chrome 版本 ≥ 88
- 檢查 `manifest.json` 是否有語法錯誤
- 重新載入 Extension

### 商品數量顯示為 0
- 確認已在商品管理頁面勾選商品
- 檢查 LocalStorage 是否有資料
- 點擊「重新載入商品」按鈕

### 找不到留言按鈕
- 確認在正確的 FB 貼文頁面
- Facebook 可能改版，需要更新 DOM 選擇器
- 手動點擊一次留言按鈕，再啟動 Extension

### 圖片上傳失敗
- 檢查圖片大小（< 5MB）
- 檢查圖片格式（JPG/PNG）
- 嘗試手動上傳圖片測試 FB 功能是否正常

## 📞 技術支援

遇到問題？
1. 按 F12 打開開發者工具
2. 查看 Console 日誌
3. 截圖錯誤訊息
4. 聯繫開發者

---

**版本**: 1.0.0  
**最後更新**: 2026-01-27
