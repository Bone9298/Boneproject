# 🔧 Chrome 擴充功能 API 設定指南

## 問題：擴充功能讀不到商品

**原因**：擴充功能的 API 網址設定不正確

---

## 🎯 快速修復（3步驟）

### 步驟 1：打開擴充功能設定頁面

1. 在 Chrome 網址列輸入：
   ```
   chrome://extensions/
   ```

2. 找到「**FB 批量留言助手**」

3. 點擊「**擴充功能選項**」或「**詳細資料**」→「**擴充功能選項**」

---

### 步驟 2：設定 API 網址

根據您的運行模式選擇：

#### 如果使用 **Docker**（啟動Docker.bat）
```
http://localhost
```

#### 如果使用 **本地系統**（啟動系統.bat）
```
http://localhost:5000
```

#### 如果使用 **Ngrok 分享**
```
https://你的ngrok網址.ngrok-free.app
```

---

### 步驟 3：儲存並測試

1. 點擊「**儲存設定**」
2. 點擊「**測試連線**」確認連接成功
3. 回到 Chrome 擴充功能頁面
4. 點擊🔄**重新載入**擴充功能
5. 重新打開擴充功能測試

---

## 📋 完整設定圖解

### 1️⃣ 進入設定頁面
![Extension Settings](https://via.placeholder.com/600x300?text=Chrome+Extensions)

在擴充功能列表中找到「FB 批量留言助手」，點擊「擴充功能選項」

### 2️⃣ 輸入 API 網址
填入對應的 API 網址：
- Docker: `http://localhost`
- 本地: `http://localhost:5000`

### 3️⃣ 儲存設定
點擊「儲存設定」按鈕

### 4️⃣ 測試連線
點擊「測試連線」確認可以連接

---

## ✅ 確認設定成功

打開擴充功能後，應該看到：
- ✅ **已勾選商品: X** （顯示數字，不是 0）
- ✅ 商品列表正常載入

如果還是顯示 0，請檢查：
1. API 網址是否正確
2. Docker/本地系統是否在運行
3. 是否在商品管理頁面勾選了商品並點擊「發布到 FB」

---

## 🎯 快速切換指令

### Docker 模式 → 本地模式
1. 進入擴充功能設定
2. 將 `http://localhost` 改為 `http://localhost:5000`
3. 儲存

### 本地模式 → Docker 模式
1. 進入擴充功能設定
2. 將 `http://localhost:5000` 改為 `http://localhost`
3. 儲存

---

## ❓ 常見問題

### Q: 為什麼 Docker 是 localhost 而不是 localhost:80？
A: 80 是預設 HTTP 端口，瀏覽器會自動補上，所以不用寫。

### Q: 測試連線失敗怎麼辦？
A: 確認：
- Docker/本地系統是否運行中
- 網址是否正確（不要多加 `/api`）
- 防火牆是否阻擋

### Q: 設定後還是顯示 0 個商品？
A: 確認：
- 在商品管理頁面是否有勾選商品
- 是否點擊了「發布到 FB」按鈕
- 刷新擴充功能（點擊🔄重新載入）

---

**現在就去設定吧！** 🚀
