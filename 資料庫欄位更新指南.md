# è³‡æ–™åº«æ¬„ä½æ›´æ–°æŒ‡å—

## ğŸ“‹ å·²æ·»åŠ æ¬„ä½

### publish_order æ¬„ä½
- **ä½ç½®**: `backend/init_db.sql`
- **ç”¨é€”**: è¨˜éŒ„å•†å“ç™¼å¸ƒé †åº
- **é¡å‹**: `INT DEFAULT NULL`

## âœ… æœ¬æ©Ÿå·²æ›´æ–°

å·²æ›´æ–° `backend/init_db.sql`ï¼ŒåŒ…å« `publish_order` æ¬„ä½å®šç¾©ã€‚

## ğŸš€ æœªä¾†éƒ¨ç½²æŒ‡å—

### æ–°ç’°å¢ƒéƒ¨ç½²ï¼ˆDockerï¼‰

ç•¶æ‚¨åœ¨æ–°æ©Ÿå™¨æˆ–ä¼ºæœå™¨éƒ¨ç½²æ™‚ï¼š

```bash
# 1. ä¸Šå‚³å°ˆæ¡ˆåˆ°æ–°ç’°å¢ƒ
# 2. ç¢ºä¿ backend/init_db.sql åŒ…å«æœ€æ–°å®šç¾©
# 3. å•Ÿå‹• Docker
docker compose up -d

# init_db.sql æœƒè‡ªå‹•åŸ·è¡Œï¼Œå‰µå»ºåŒ…å« publish_order çš„è¡¨
```

### å·²æœ‰è³‡æ–™åº«çš„ç’°å¢ƒ

å¦‚æœè³‡æ–™åº«å·²å­˜åœ¨ï¼ˆå¦‚æ‚¨çš„ä¼ºæœå™¨ï¼‰ï¼Œéœ€è¦æ‰‹å‹•æ·»åŠ æ¬„ä½ï¼š

```bash
# åŸ·è¡Œæ­¤å‘½ä»¤æ·»åŠ æ¬„ä½
docker compose exec db mysql -u fb_user -p9298 fb_products -e "ALTER TABLE products ADD COLUMN publish_order INT DEFAULT NULL AFTER customer_reserved;"
```

æˆ–ä½¿ç”¨æº–å‚™å¥½çš„è…³æœ¬ï¼š

```bash
# é€²å…¥è³‡æ–™åº«
docker compose exec db mysql -u fb_user -p9298 fb_products

# åŸ·è¡Œ
ALTER TABLE products ADD COLUMN publish_order INT DEFAULT NULL AFTER customer_reserved;

# é€€å‡º
exit
```

## ğŸ“ æª”æ¡ˆæ¸…å–®

**å·²æ›´æ–°çš„æª”æ¡ˆ**ï¼š
- âœ… `backend/init_db.sql` - è³‡æ–™åº«åˆå§‹åŒ–è…³æœ¬
- âœ… `backend/add_publish_order.sql` - æ¬„ä½æ›´æ–°è…³æœ¬ï¼ˆå·²å­˜åœ¨ï¼‰

## ğŸ’¡ æ³¨æ„äº‹é …

1. **æ–°ç’°å¢ƒ**: ç›´æ¥ `docker compose up` å³å¯ï¼Œæœƒè‡ªå‹•å‰µå»ºæ­£ç¢ºçš„è¡¨çµæ§‹
2. **èˆŠç’°å¢ƒ**: éœ€è¦æ‰‹å‹•åŸ·è¡Œ ALTER TABLE æ·»åŠ æ¬„ä½
3. **æœ¬åœ° MariaDB**: å·²æœ‰è³‡æ–™çš„ä¸å—å½±éŸ¿ï¼Œåªå½±éŸ¿æ–°å»ºçš„è¡¨

## ğŸ¯ æ‚¨çš„ä¼ºæœå™¨

è«‹åœ¨ä¼ºæœå™¨åŸ·è¡Œï¼š
```bash
docker compose exec db mysql -u fb_user -p9298 fb_products -e "ALTER TABLE products ADD COLUMN publish_order INT DEFAULT NULL AFTER customer_reserved;"
```

åŸ·è¡Œå¾Œï¼Œä¼ºæœå™¨å°±èƒ½æ­£å¸¸é‹ä½œäº†ï¼
